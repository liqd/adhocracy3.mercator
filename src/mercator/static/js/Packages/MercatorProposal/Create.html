<div class="mercator-proposal-form-container">
    <nav class="mercator-proposal-form-nav" data-adh-sticky="">
        <ol>
            <li data-du-scrollspy="mercator-proposal-basic"><a href="#mercator-proposal-basic" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_BASIC" | translate }}</a></li>
            <li data-du-scrollspy="mercator-proposal-introduction" data-offset="50"><a href="#mercator-proposal-introduction" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_INTRODUCTION" | translate }}</a></li>
            <li data-du-scrollspy="mercator-proposal-detail" data-offset="50"><a href="#mercator-proposal-detail" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_DETAIL" | translate }}</a></li>
            <li data-du-scrollspy="mercator-proposal-motivation" data-offset="50"><a href="#mercator-proposal-motivation" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_MOTIVATION" | translate }}</a></li>
            <li data-du-scrollspy="mercator-proposal-finance" data-offset="50"><a href="#mercator-proposal-finance" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_FINANCE" | translate }}</a></li>
            <li data-du-scrollspy="mercator-proposal-extra" data-offset="50"><a href="#mercator-proposal-extra" data-du-smooth-scroll="">{{ "TR__MERCATOR_PROPOSAL_EXTRA" | translate }}</a></li>
        </ol>
    </nav>

    <form
            novalidate="novalidate"
            class="mercator-proposal-form"
            name="mercatorProposalForm"
            data-ng-controller="mercatorProposalFormController as form"
            data-ng-submit="submitIfValid()"
            data-ng-init="setFormDefaults()"
            data-du-spy-context="">
        <div class="form-error" data-ng-repeat="error in errors track by $index">
            <p>{{ error | adhFormatError | translate }}</p>
        </div>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalBasicForm" id="mercator-proposal-basic">
            <h2 data-du-scrollspy="mercator-proposal-basic" class="mercator-proposal-form-heading">1. {{ "TR__MERCATOR_PROPOSAL_BASIC" | translate }}</h2>

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <h3 class="mercator-proposal-form-subheading">{{ "TR__MERCATOR_PROPOSAL_USER_INFO" | translate }}:</h3>

                    <div class="row">
                        <div class="cols-2">
                            <label>
                                <span class="label-text">{{ "TR__FIRSTNAME" | translate }}</span>
                                <input
                                    type="text"
                                    data-ng-change="changefield()"
                                    data-ng-model="data.user_info.first_name"
                                    name="user-info-first-name"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.user-info-first-name', 'required')">
                                    {{ "TR__ERROR_REQUIRED_FIRSTNAME" | translate }}</span>
                            </label>
                        </div>
                        <div class="cols-2">
                            <label>
                                <span class="label-text">{{ "TR__LASTNAME" | translate }}</span>
                                <input
                                    type="text"
                                    data-ng-model="data.user_info.last_name"
                                    name="user-info-last-name"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.user-info-last-name', 'required')">
                                    {{ "TR__ERROR_REQUIRED_LASTNAME" | translate }}</span>
                            </label>
                        </div>
                    </div>
                    <label>
                        <span class="label-text">{{ "TR__COUNTRY" | translate }}</span>
                        <country-select
                            data-ng-change="changefield()"
                            data-ng-model="data.user_info.country"
                            data-name="user-info-country"
                            data-required="required"></country-select>
                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalBasicForm.user-info-country', 'required')">
                            {{ "TR__ERROR_REQUIRED_COUNTRY" | translate }}</span>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_USER_INFO_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <h3 class="mercator-proposal-form-subheading">{{ "TR__MERCATOR_PROPOSAL_ORGANISATION_INFO" | translate }}:</h3>

                    <div
                        data-ng-class="{ 'ng-invalid': mercatorProposalBasicForm['organization-info-status-enum'].$invalid
                            && mercatorProposalForm.$submitted }">

                        <label class="label-text">
                            <input
                                type="radio"
                                data-ng-model="data.organization_info.status_enum"
                                name="organization-info-status-enum"
                                value="registered_nonprofit"
                                required="required" />
                                {{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_STATUS_NONPROFIT" | translate }}
                        </label>

                        <fieldset
                            data-ng-if="data.organization_info.status_enum == 'registered_nonprofit'">

                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }} *</span>
                                <input
                                    type="text"
                                    data-ng-model="data.organization_info.name"
                                    name="organization-info-name"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-name', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_COUNTRY" | translate }}</span>
                                <country-select
                                    data-ng-model="data.organization_info.country"
                                    data-name="organization-info-country"
                                    data-required="required"></country-select>
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-country', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_COUNTRY" | translate }}</span>
                            </label>

                            <label>
                                <span class="label-text">{{ "TR__WEBSITE" | translate }}</span>
                                <input
                                    type="url"
                                    data-ng-model="data.organization_info.website"
                                    name="organization-info-website" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-website', 'url')">
                                    {{ "TR__ERROR_INVALID_URL" | translate }}</span>
                            </label>
                        </fieldset>

                        <label class="label-text">
                            <input
                                type="radio"
                                data-ng-model="data.organization_info.status_enum"
                                name="organization-info-status-enum"
                                value="planned_nonprofit"
                                required="required" />
                            {{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_STATUS_PLANNED_NONPROFIT" | translate }}
                        </label>

                        <fieldset
                            data-ng-if="data.organization_info.status_enum == 'planned_nonprofit'">

                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }} *</span>
                                <input
                                    type="text"
                                    data-ng-model="data.organization_info.name"3
                                    name="organization-info-name"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-name', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_PLANNED_COUNTRY" | translate }}</span>
                                <country-select
                                    data-ng-model="data.organization_info.country"
                                    data-name="organization-info-country"
                                    data-required="required"></country-select>
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-country', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_COUNTRY" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_DATE_OF_FORESEEN_REGISTRATION" | translate }} *</span>
                                <input
                                    type="text"
                                    data-ng-model="data.organization_info.date_of_foreseen_registration"
                                    name="organization-info-date-of-foreseen-registration"
                                    data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
                                    placeholder="yyyy-mm-dd"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-date-of-foreseen-registration',
                                    'pattern')">
                                    {{ "TR__ERROR_INVALID_DATE" | translate }}</span>
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-date-of-foreseen-registration',
                                    'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_DATE_OF_FORESEEN_REGISTRATION" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__WEBSITE" | translate }}</span>
                                <input
                                    type="url"
                                    data-ng-model="data.organization_info.website"
                                    name="organization-info-website" />
                                 <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-website', 'url')">
                                    {{ "TR__ERROR_INVALID_URL" | translate }}</span>
                            </label>
                        </fieldset>
                        <label class="label-text">
                            <input
                                type="radio"
                                data-ng-model="data.organization_info.status_enum"
                                name="organization-info-status-enum"
                                value="support_needed"
                                required="required" />
                            {{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_STATUS_SUPPORT_NEEDED" | translate }}
                        </label>

                        <fieldset
                            data-ng-if="data.organization_info.status_enum == 'support_needed'">
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }} *</span>
                                <input
                                    type="text"
                                    data-ng-model="data.organization_info.name"
                                    name="organization-info-name"
                                    required="required" />
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-name', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_NAME" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_PLANNED_COUNTRY" | translate }}</span>
                                <country-select
                                    data-ng-model="data.organization_info.country"
                                    data-name="organization-info-country"
                                    data-required="required"></country-select>
                                <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-country', 'required')">
                                    {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_ORGANIZATION_COUNTRY" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__WEBSITE" | translate }}</span>
                                <input
                                    type="url"
                                    data-ng-model="data.organization_info.website"
                                    name="organization-info-website" />

                                 <span
                                    class="input-error"
                                    data-ng-if="showError('mercatorProposalBasicForm.organization-info-website', 'url')">
                                    {{ "TR__ERROR_INVALID_URL" | translate }}</span>
                            </label>
                            <label>
                                <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_ORGANIZATION_STATUS_SUPPORT_NEEDED_HOW" | translate }}</span>
                                <input
                                    type="text"
                                    data-ng-model="data.organization_info.how_can_we_help_you"
                                    name="organization-info-how-can-we-help-you"
                                    placeholder="{{ 'TR__MAX_CHARS_500' | translate }}" />
                            </label>

                        </fieldset>

                        <label class="label-text">
                            <input
                                type="radio"
                                data-ng-model="data.organization_info.status_enum"
                                name="organization-info-status-enum" value="other"
                                required="required" />

                            {{ "TR__OTHER" | translate }}<span data-ng-if="data.organization_info.status_enum == 'other'">.
                                {{ "TR__PLEASE_SPECIFY" | translate }}:</span>
                        </label>

                        <fieldset data-ng-if="data.organization_info.status_enum == 'other'">

                            <textarea
                                data-msd-elastic=""
                                data-ng-if="data.organization_info.status_enum == 'other'"
                                data-ng-model="data.organization_info.status_other"
                                name="organization-info-status-other"
                                maxlength="500"
                                placeholder="{{ 'TR__MAX_CHARS_500' | translate }}"
                                required="required"></textarea>

                            <span
                                class="input-error"
                                data-ng-if="showError('mercatorProposalBasicForm.organization-info-status-other', 'required')">
                                {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>

                        </fieldset>

                    </div><!-- /.ng-invalid -->

                    <span
                        class="input-error"
                        data-ng-if="showError('mercatorProposalBasicForm.organization-info-status-enum', 'required')">
                        {{ "TR__ERROR_REQUIRED_RADIO" | translate }}</span>
                </div><!-- /.annotated-section-body -->
            </div><!-- /.annotated-section -->
        </section>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalIntroductionForm" id="mercator-proposal-introduction">
            <h2
                data-du-scrollspy="mercator-proposal-introduction"
                class="mercator-proposal-form-heading"
                data-offset="50">2. {{ "TR__MERCATOR_PROPOSAL_INTRODUCTION" | translate }}</h2>

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_TITLE_LABEL" | translate }}:</span>
                        <input
                            type="text"
                            data-ng-model="data.title"
                            name="introduction-title"
                            maxlength="100"
                            placeholder="{{ 'TR__MAX_CHARS_100' | translate }}"
                            required="required" />

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalIntroductionForm.introduction-title', 'required')">
                            {{ "TR__ERROR_REQUIRED_TITLE" | translate }}</span>
                    </label>
                </div>

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_TITLE_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_TEASER_LABEL" | translate }}:</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.introduction.teaser"
                            name="introduction-teaser"
                            maxlength="300"
                            placeholder="{{ 'TR__MAX_CHARS_300' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalIntroductionForm.introduction-teaser', 'required')">
                            {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_TEASER" | translate }}</span>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_TEASER_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section" data-ng-if="$flow.support">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__IMAGE_UPLOAD" | translate }}</span>
                        <div
                            data-flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
                            data-flow-init=""
                            data-flow-object="$flow"
                            data-ng-model="data.introduction.imageUpload"
                            data-ng-class="{ 'ng-invalid': mercatorProposalIntroductionForm['introduction-picture-upload'].$invalid }"
                            name="introduction-picture-upload">
                            <div data-ng-if="data.introduction.picture && (!$flow.files || $flow.files.length == 0)">
                                {{ "TR__IMAGE_CURRENT" | translate }}:
                                <img class="mercator-proposal-detail-view-image"
                                     data-ng-src="{{ data.introduction.picture | adhImageUri }}"
                                     style="width: 100%; height: 203px"
                                     alt="{{ 'TR__IMAGE_CURRENT' | translate }}" />
                            </div>
                            <button
                                type="button"
                                data-flow-btn=""
                                data-flow-attrs="{accept:'image/*'}"
                                class="m-call-to-action2">
                                <span data-ng-if="$flow.files.length > 0">{{ "TR__IMAGE_CHANGE" | translate }}</span>
                                <span data-ng-if="!$flow.files.length || $flow.files.length == 0">{{ "TR__IMAGE_CHOOSE" | translate }}</span>
                            </button>
                            <div
                                data-ng-messages="mercatorProposalIntroductionForm['introduction-picture-upload'].$error"
                                data-ng-if="mercatorProposalIntroductionForm['introduction-picture-upload'].$dirty || mercatorProposalForm.$submitted">
                                <span
                                    class="input-error"
                                    data-ng-message="wrongType">
                                    {{"TR__ERROR_TYPE_IMAGE" | translate:$flow.opts }}
                                </span>
                                <span
                                    class="input-error"
                                    data-ng-message="tooBig">
                                    {{"TR__ERROR_TOO_BIG_IMAGE" | translate:$flow.opts }}
                                </span>
                                <span
                                    class="input-error"
                                    data-ng-message="tooNarrow">
                                    {{"TR__ERROR_TOO_NARROW_IMAGE" | translate:$flow.opts }}
                                </span>
                                <span
                                    class="input-error"
                                    data-ng-message="required">
                                    {{"TR__ERROR_REQUIRED_IMAGE" | translate }}
                                </span>
                            </div>
                            <div class="picture-upload-file" ng-if="$flow.files.length > 0" data-ng-repeat="file in $flow.files">
                                <img data-flow-img="file" height="120" alt="{{ 'TR__IMAGE_SELECTED' | translate }}" /><br/>{{file.name}}
                            </div>
                        </div>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    <p>{{ "TR__MERCATOR_PROPOSAL_IMAGE_ANNOTATION_1" | translate }}</p>
                    <p>{{ "TR__MERCATOR_PROPOSAL_IMAGE_ANNOTATION_2" | translate:$flow.opts }}</p>
                </div>
            </div><!-- /.annotated-section -->
        </section>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalDetailForm" id="mercator-proposal-detail">
            <h2
                data-du-scrollspy="mercator-proposal-detail"
                class="mercator-proposal-form-heading"
                data-offset="50">3. {{ "TR__MERCATOR_PROPOSAL_DETAIL" | translate }}</h2>

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_DESCRIPTION_LABEL" | translate }}:</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.description.description"
                            name="description-description"
                            maxlength="1000"
                            placeholder="{{ 'TR__MAX_CHARS_1000' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalDetailForm.description-description', 'required')">
                            {{ "TR__ERROR_REQUIRED_DESCRIPTION" | translate }}</span>
                    </label>
                </div><!-- /.form_body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_DESCRIPTION_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_LOCATION_LABEL" | translate }}</span>

                    <!-- FIXME: red border should show on dirty -->
                    <div
                        data-ng-class="{ 'ng-invalid': showLocationError() }">
                        <label class="label-text">
                            <input
                                type="checkbox"
                                data-ng-model="data.location.location_is_specific"
                                name="location-location-is-specific" />
                            {{ "TR__MERCATOR_PROPOSAL_LOCATION_SPECIFIC" | translate }}
                        </label>

                        <div data-ng-show="data.location.location_is_specific" class="row">
                            <div class="cols-3">
                                <input
                                    type="text"
                                    data-ng-model="data.location.location_specific_1"
                                    name="location-location-specific-1"
                                    placeholder="{{ 'TR__MERCATOR_PROPOSAL_LOCATION_FORMAT' | translate }}"
                                    data-ng-required="data.location.location_is_specific" />
                            </div>
                            <div class="cols-3">
                                <input
                                    type="text"
                                    data-ng-model="data.location.location_specific_2"
                                    name="location-location-specific-2"
                                    placeholder="{{ 'TR__MERCATOR_PROPOSAL_LOCATION_FORMAT' | translate }}" />
                            </div>
                            <div class="cols-3">
                                <input
                                    type="text"
                                    data-ng-model="data.location.location_specific_3"
                                    name="location-location-specific-3"
                                    placeholder="{{ 'TR__MERCATOR_PROPOSAL_LOCATION_FORMAT' | translate }}" />
                            </div>
                        </div>

                        <label class="label-text">
                            <input
                                type="checkbox"
                                data-ng-model="data.location.location_is_online"
                                name="location-location-is-online" />
                            {{ "TR__ONLINE" | translate }}
                        </label>
                        <label class="label-text">
                            <input
                                type="checkbox"
                                data-ng-model="data.location.location_is_linked_to_ruhr"
                                name="location-location-is-linked-to-ruhr" />
                            {{ "TR__MERCATOR_PROPOSAL_LOCATION_LINKAGE_TO_RUHR" | translate }}
                        </label>
                    </div><!-- /.ng-invalid -->

                    <span
                        class="input-error"
                        data-ng-if="showLocationError()">
                        {{ "TR__ERROR_REQUIRED_RADIO" | translate }}</span>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_LOCATION_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_STORY_LABEL" | translate }}</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.story"
                            name="story"
                            maxlength="800"
                            placeholder="{{ 'TR__MAX_CHARS_800' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalDetailForm.story', 'required')">
                            {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_STORY_ANNOTATION" | translate }}
                </div><!-- /.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!-- /.annotated-section -->
        </section>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalMotivationForm" id="mercator-proposal-motivation">
            <h2
                data-du-scrollspy="mercator-proposal-motivation"
                class="mercator-proposal-form-heading"
                data-offset="50">4. {{ "TR__MERCATOR_PROPOSAL_MOTIVATION" | translate }}</h2>

            <div class="annotated-section">
                <div class="annotated-section-body">

                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_OUTCOME_LABEL" | translate }}</span>

                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.outcome"
                            name="outcome"
                            maxlength="800"
                            placeholder="{{ 'TR__MAX_CHARS_800' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalMotivationForm.outcome', 'required')">
                            {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_OUTCOME_ANNOTATION" | translate }}
                </div>
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">

                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_STEPS_LABEL" | translate }}</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.steps"
                            name="steps"
                            maxlength="800"
                            placeholder="{{ 'TR__5_BP_OR_MAX_CHARS_800' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalMotivationForm.steps', 'required')">
                            {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>
                    </label>
                </div><!-- /.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_STEPS_ANNOTATION"  | translate }}
                </div><!-- /.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">

                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_VALUE_LABEL" | translate }}</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.value"
                            name="value"
                            maxlength="800"
                            placeholder="{{ 'TR__MAX_CHARS_800' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalMotivationForm.value', 'required')">
                            {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>
                    </label>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_VALUE_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!-- /.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">

                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_PARTNERS_LABEL" | translate }}</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.partners"
                            name="partners"
                            maxlength="800"
                            placeholder="{{ 'TR__MAX_CHARS_800' | translate }}"
                            required="required"></textarea>

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalMotivationForm.partners', 'required')">
                            {{ "TR__ERROR_REQUIRED_TEXT" | translate }}</span>
                    </label>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">

                    {{ "TR__MERCATOR_PROPOSAL_PARTNERS_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!--/.annotated-section-annotation mercator-proposal-form-annotation -->
        </section>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalFinanceForm" id="mercator-proposal-finance">
            <div class="annotated-section">
                <div class="annotated-section-body">
                    <h2
                        data-du-scrollspy="mercator-proposal-finance"
                        class="mercator-proposal-form-heading"
                        data-offset="50">5. {{ "TR__MERCATOR_PROPOSAL_FINANCE" | translate }}</h2>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    <span data-adh-html-translate="TR__MERCATOR_PROPOSAL_FINANCE_ANNOTATION" data-translate-templates="{link: financialPlanTemplate}"></span>
                </div><!--/.annotated-section-annotation -->
            </div><!--/.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_TOTAL_BUDGET" | translate }}:</span>
                        <input
                            type="number"
                            data-ng-model="data.finance.budget"
                            name="finance-budget"
                            required="required" />

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalFinanceForm.finance-budget', 'required')">
                            {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_TOTAL_BUDGET" | translate }}</span>
                    </label>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_TOTAL_BUDGET_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation -->
            </div><!--/.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_REQUESTED_FUNDING" | translate }}:</span>
                        <input
                            type="number"
                            data-ng-model="data.finance.requested_funding"
                            name="finance-requested-funding"
                            min="0"
                            max="50000"
                            required="required" />

                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalFinanceForm.finance-requested-funding', 'required')">
                            {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_REQUESTED_FUNDING" | translate }}</span>
                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalFinanceForm.finance-requested-funding', 'max')">
                            {{ "TR__ERROR_MAX_EURO_50000" | translate }}</span>
                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalFinanceForm.finance-requested-funding', 'min')">
                            {{ "TR__ERROR_MIN_NUMBER_0" | translate }}</span>
                    </label>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_REQUESTED_FUNDING_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation -->
            </div><!--/.annotated-section -->

            <div class="annotated-section">
                <div class="annotated-section-body">
                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_FINANCE_OTHERS_SOURCES" | translate }}</span>
                        <input type="text" data-ng-model="data.finance.other_sources" name="finance-other-sources" />
                    </label>
                </div>

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_OTHER_SOURCES_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation -->
            </div><!--/.annotated-section -->

            <div data-ng-if="showFinanceGrantedInfo()" class="annotated-section">
                <div class="annotated-section-body">
                    <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_FINANCE_GRANTED" | translate }}</span>

                    <div class="form-inline" data-ng-class="{ 'ng-invalid': mercatorProposalFinanceForm['finance-granted'].$invalid &&
                        mercatorProposalForm.$submitted }">

                        <label>
                            <input
                                type="radio"
                                data-ng-model="data.finance.granted"
                                name="finance-granted"
                                data-ng-value="true"
                                required="required" />
                            <span class="label-text">{{ "TR__YES" | translate }}</span>
                        </label>
                        <label>
                            <input
                                type="radio"
                                data-ng-model="data.finance.granted"
                                name="finance-granted"
                                data-ng-value="false"
                                required="required" />
                            <span class="label-text">{{ "TR__NO" | translate }}</span>
                        </label>

                    </div><!-- /.ng-invalid -->
                        <span
                            class="input-error"
                            data-ng-if="showError('mercatorProposalFinanceForm.finance-granted', 'required')">
                            {{ "TR__ERROR_REQUIRED_MERCATOR_PROPOSAL_FINANCE_GRANTED" | translate }}</span>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_FINANCE_GRANTED_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!--/.annotated-section -->
        </section>

        <section class="mercator-proposal-form-section" data-ng-form="" name="mercatorProposalExtraForm" id="mercator-proposal-extra">
            <h2
                data-du-scrollspy="mercator-proposal-extra"
                class="mercator-proposal-form-heading"
                data-offset="50">6. {{ "TR__MERCATOR_PROPOSAL_EXTRA" | translate }}</h2>

            <div class="annotated-section">
                <div class="annotated-section-body">

                    <label>
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_SHARE_EXPERIENCE_LABEL" | translate }} ({{ "TR__OPTIONAL" | translate }})</span>
                        <textarea
                            data-msd-elastic=""
                            data-ng-model="data.experience"
                            name="experience"
                            maxlength="300"
                            placeholder="{{ 'TR__MAX_CHARS_300' | translate }}"></textarea>
                    </label>

                    <div data-ng-if="create === 'true'">
                        <span class="label-text">{{ "TR__MERCATOR_PROPOSAL_HEARD_FROM_LABEL" | translate }}</span>

                        <div data-ng-class="{ 'ng-invalid': showHeardFromError() }">

                            <label class="label-text">
                                <input type="checkbox"
                                    data-ng-model="data.heard_from.colleague"
                                    name="heard-from-colleague" />
                                {{ "TR__COLLEAGUE" | translate }}
                            </label>
                            <label class="label-text">
                                <input
                                    type="checkbox"
                                    data-ng-model="data.heard_from.website"
                                    name="heard-from-website" />
                                {{ "TR__WEBSITE" | translate }}
                            </label>
                            <label class="label-text">
                                <input
                                    type="checkbox"
                                    data-ng-model="data.heard_from.newsletter"
                                    name="heard-from-newsletter" />
                                {{ "TR__NEWSLETTER" | translate }}
                            </label>
                            <label class="label-text">
                                <input
                                    type="checkbox"
                                    data-ng-model="data.heard_from.facebook"
                                    name="heard-from-facebook" />
                                {{ "TR__FACEBOOK" | translate }}
                            </label>
                            <label class="label-text">
                                <input
                                    type="checkbox"
                                    data-ng-model="data.heard_from.other"
                                    name="heard-from-other" />
                                {{ "TR__OTHER" | translate }}<span data-ng-if="data.heard_from.other">.
                                    {{ "TR__PLEASE_SPECIFY" | translate }}:</span>
                            </label>
                            <input
                                type="text"
                                data-ng-if="data.heard_from.other"
                                data-ng-model="data.heard_from.other_specify"
                                name="heard-from-other-specify"
                                data-ng-required="data.heard_from.other" />

                            <span
                                class="input-error"
                                data-ng-if="showHeardFromError()">
                                {{ "TR__ERROR_REQUIRED_CHECKBOXES" | translate }}</span>
                        </div><!-- /.ng-invalid -->
                    </div>

                    <span class="label-text">{{ "TR__DISCLAIMER" | translate }}*:</span>
                    <label class="label-text" data-ng-class="{ 'ng-invalid': showError('mercatorProposalExtraForm.accept-disclaimer', 'required') }">
                        <input
                            type="checkbox"
                            data-ng-model="data.accept_disclaimer"
                            name="accept-disclaimer"
                            required="required"/>
                        {{ "TR__MERCATOR_PROPOSAL_ACCEPT_PUBLISH" | translate }}
                    </label>
                </div><!--/.annotated-section-body -->

                <div class="annotated-section-annotation mercator-proposal-form-annotation">
                    {{ "TR__MERCATOR_PROPOSAL_SHARE_EXPERIENCE_ANNOTATION" | translate }}
                </div><!--/.annotated-section-annotation mercator-proposal-form-annotation -->
            </div><!--/.annotated-section -->
        </section>

        <footer class="form-footer mercator-proposal-form-footer">
            <input
                type="submit"
                name="submit"
                value="{{ 'TR__PUBLISH' | translate }}"
                class="m-call-to-action form-footer-button-cta" />

            <a href="" data-ng-click="cancel()" class="button form-footer-button">
            {{ "TR__CANCEL" | translate }}</a>
        </footer>
    </form>
</div><!-- /.mercator-proposal-form-container -->
